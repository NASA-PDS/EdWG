<?xml version='1.0' encoding='utf-8'?>
<?xml-model href="https://pds.nasa.gov/pds4/pds/v1/PDS4_PDS_1M00.sch" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model href="https://pds.nasa.gov/pds4/ctli/v2/PDS4_CTLI_1M00_2100.sch" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<Product_Context xmlns="http://pds.nasa.gov/pds4/pds/v1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ctli="http://pds.nasa.gov/pds4/ctli/v2" xsi:schemaLocation="http://pds.nasa.gov/pds4/pds/v1 https://pds.nasa.gov/pds4/pds/v1/PDS4_PDS_1M00.xsd http://pds.nasa.gov/pds4/ctli/v2 https://pds.nasa.gov/pds4/ctli/v2/PDS4_CTLI_1M00_2100.xsd">
  <Identification_Area>
    <logical_identifier>urn:nasa:pds:context:instrument:go.mag</logical_identifier>
    <version_id>1.1</version_id>
    <title>Triaxial Fluxgate Magnetometer for GO</title>
    <information_model_version>1.22.0.0</information_model_version>
    <product_class>Product_Context</product_class>
    <Alias_List>
      <Alias>
        <alternate_title>urn:nasa:pds:context:instrument:mag.go</alternate_title>
      </Alias>
      <!-- deprecated LID -->
      <Alias>
        <alternate_title>TRIAXIAL FLUXGATE MAGNETOMETER</alternate_title>
      </Alias>
      <Alias>
        <alternate_title>TRIAXIAL FLUXGATE MAGNETOMETER for GO</alternate_title>
      </Alias>
    </Alias_List>
    <Modification_History>
      <Modification_Detail>
        <modification_date>2025-01-02</modification_date>
        <version_id>1.1</version_id>
        <description>Updated schema version. Adding missing "investigation" references. Update instrument type/subtype to use valid CTLI LDD.</description>
      </Modification_Detail>
      <Modification_Detail>
        <modification_date>2021-02-24</modification_date>
        <version_id>1.0</version_id>
        <description>
                    Changed inst LIDs from
                      u:n:p:c:i:instID.scID to
                      u:n:p:c:i:scID.instID
                    And per "Guide toPDS4 Context Products" v1.7,
                    changed all lidvid_reference to lid_reference
                </description>
      </Modification_Detail>
    </Modification_History>
  </Identification_Area>
  <Reference_List>
    <Internal_Reference>
      <lid_reference>urn:nasa:pds:context:investigation:mission.pioneer_10</lid_reference>
      <reference_type>instrument_to_investigation</reference_type>
    </Internal_Reference>
    <Internal_Reference>
      <lid_reference>urn:nasa:pds:context:investigation:mission.galileo</lid_reference>
      <reference_type>instrument_to_investigation</reference_type>
    </Internal_Reference>
    <Internal_Reference>
      <lid_reference>urn:nasa:pds:context:investigation:mission.comet_sl9-jupiter_collision</lid_reference>
      <reference_type>instrument_to_investigation</reference_type>
    </Internal_Reference>
    <Internal_Reference>
      <lid_reference>urn:nasa:pds:context:instrument_host:spacecraft.go</lid_reference>
      <reference_type>instrument_to_instrument_host</reference_type>
    </Internal_Reference>
    <External_Reference>
      <reference_text>
                   Gordon, D.I., and R.E. Brown, IEEE Transactions on Magnetics, MAG-8, 76-82,
                   1972.
            </reference_text>
      <description>reference.GORDON-BROWN1972</description>
    </External_Reference>
    <External_Reference>
      <reference_text>
                   Kivelson, M. G., Slavin, J. A., Southwood, D.J., Magnetospheres of the Galleon
                   satellites and their interaction with Jovian magnetospheric plasmas, Science,
                   205, p491, 1979.
            </reference_text>
      <description>reference.KIVELSONETAL1979</description>
    </External_Reference>
    <External_Reference>
      <reference_text>
                   Kivelson, M.G., K.K. Khurana, J.D. Means, C.T. Russell, and R.C. Snare, The
                   Galileo Magnetic Field Investigation, Space Science Reviews, 60, 1-4, 357, 1992.
            </reference_text>
      <description>reference.KIVELSONETAL1992</description>
    </External_Reference>
    <External_Reference>
      <reference_text>
                   Russell, C.T., The ISEE 1 and 2 fluxgate magnetometers, IEEE Trans. Geosci.
                   Electro., GE-16, P. 239, 1978.
            </reference_text>
      <description>reference.RUSSELL1978</description>
    </External_Reference>
    <External_Reference>
      <reference_text>
                   Snare, R.C., and J.D. Means, A magnetometer for the Pioneer Venus Orbiter, IEEE
                   Trans. on Magnetics, MAG-13, no. 6, 1107-1109, 1977.
            </reference_text>
      <description>reference.SNARE-MEANS1977</description>
    </External_Reference>
  </Reference_List>
  <Instrument>
    <name>Triaxial Fluxgate Magnetometer for GO</name>
    <Type_List_Area>
      <ctli:Type_List>
        <ctli:type>Magnetometer</ctli:type>
      </ctli:Type_List>
    </Type_List_Area>
    <naif_instrument_id>not applicable</naif_instrument_id>
    <serial_number>not applicable</serial_number>
    <description> The Galileo Magnetometer description comes from the Space Science Reviews instrument paper which is reproduced here with permission from Kluwer Academic Publishers, Dordecht, Boston, London (KIVELSONETAL1992). Three appendices to the original article are provided at the end of the description that describe changes to the flight software and data acquisition in the Phase 2 mission (low gain antenna mission), some of the in-flight anomalies that have occurred and their resolutions, and the MAG command dictionary.             THE GALILEO MAGNETOMETER   Abstract   The Galileo Orbiter carries a complement of fields and particles instruments designed to provide data needed to shed light on the structure and dynamical variations of the jovian magnetosphere.  Many questions remain regarding the temporal and spatial properties of the magnetospheric magnetic field, how the magnetic field maintains corotation of the embedded plasma and the circumstances under which corotation breaks down, the nature of magnetic perturbations that transport plasma across magnetic shells in different parts of the system, and the electromagnetic properties of the jovian moons and how they interact with the magnetospheric plasma.  Critical to answering these closely related questions are measurements of the dc and low frequency magnetic field.  The Galileo Orbiter carries a fluxgate magnetometer designed to provide the sensitive measurements required for this purpose.  In this paper, the magnetometer is described.  The instrument has two boom- mounted, three-axis sensor assemblies.  Flipper mechanisms are included in each sensor assembly for the purpose of offset calibration.  The microprocessor controlled data handling system produces calibrated despun data that can be used directly without further processing.  A memory system stores data for those periods when the spacecraft telemetry is not active.  This memory system can also be used for storing high time-resolution snapshots of data.   Introduction   The jovian magnetosphere envelopes the planet in a vast cocoon around which the solar wind is deflected in its outward flow from the sun.  The magnetic field of the planet itself brings order to the plasma contained in the magnetosphere, constraining the ions and electrons to move in orbits imposed by electromagnetic forces.   In the 1970's, four spacecraft: Pioneer 10 and 11, and Voyager 1 and 2 traveled through the magnetosphere of Jupiter and provided information on the properties of the charged particles and the fields within it.  These missions showed that the magnitude of the magnetic dipole moment is 4.3 RJ3 x 10-4 T, or 4.3 x 105 nT at the level of the cloud tops near the equator.  This is an order of magnitude larger than the magnetic field at the terrestrial surface.  As at Earth, the jovian plasma contains ions of solar wind origin and ions of ionospheric origin.  Unique to Jupiter is the large population of heavy ions whose source is the galilean moon, Io; these ions form a torus of relatively high plasma density near Io's orbit but they also diffuse out to form an important component of the plasma present throughout the magnetosphere.  The heavy ions, spun up to corotation velocity by magnetic (jxB) forces imposed by field-aligned currents flowing between the ionosphere and the magnetosphere, carry cross-field currents that distort the magnetic field into a disk-like geometry at large distances.   Although many features of the magnetosphere were identified by the first four spacecraft to make measurements within it, there are still many puzzles.  For example, it is not clear how the plasma, whose ultimate source is Io, is transported through the magnetosphere.  Over large spatial regions, the magnetic field imposes corotation, but it is thought that corotation breaks down at large distances in the evening sector, and possibly more generally when new plasma is added at an unusually large rate.  The system appears to display large scale temporal changes, but it is not clear whether the changes are internally or externally driven and the time scales for changes are not understood.  The Galileo mission will provide new data with which it will be possible to map the jovian magnetosphere, monitor magnetospheric dynamics, and investigate magnetosphere-ionosphere coupling.  The presence of Jupiter's large moons perturbs the plasma, and Galileo spacecraft investigations of the plasma interaction with the satellites will yield information about properties of both the plasma and the moons themselves.  For example, during the flyby of Io it will be possible to determine whether or not Io has an internally generated magnetic field (Kivelson et al., 1979).  By remaining within the magnetosphere for years instead of weeks (as for a flyby mission), the Galileo Orbiter will be able to study the structure and the time variability of the system on both large and small scales.  Finally, the spacecraft will make measurements in the magnetotail near the midnight meridian where it may be possible to find evidence of a planetary wind flowing away from Jupiter.   The lengthy (six year) interval of interplanetary cruise will also provide opportunities for carrying out scientific investigations.  During the flyby of Venus in 1990, particles and fields instruments on the spacecraft will acquire data of great value to the study of the cloud- covered planet.  The magnetometer will, in particular, provide data on the temporal variations of the solar wind that will be studied in conjunction with data from the Pioneer Venus Orbiter to provide insight into the time constants for transport of plasma and fields through the ionosphere of Venus.  Studies of pick-up ions and of the electromagnetic signals from lightning on Venus will also be carried out.  During the flybys of Earth whose magnetic properties are well-known, the accuracy of the instrument measurements will be assessed and data will be available for coordinated studies with spacecraft operating in Earth orbit.  During the interplanetary cruise period, the solar wind will be monitored.  Galileo measurements will provide a valuable baseline for the study of the large scale structure and evolution of the solar wind.  For this purpose, comparison with the data of the Ulysses spacecraft which will be in the solar wind at different distances and latitudes will be of special interest.   For all of these science objectives, the measurements of the magnetic field and of its low frequency variations are fundamental.  In addition to providing data of direct importance for scientific investigations, the magnetometer performs a critical service function, providing the reference direction essential to the meaningful analysis of the plasma and energetic charged particle measurements.  As the interpretation of all fields and particle measurements relies on knowledge of the magnetic field direction and/or magnitude, it is essential that physically meaningful data from the magnetometer be available without delay following the transmission of data from the spacecraft.   To develop the magnetometer instrument and a data-processing system that provides scientifically useful data, and to carry out scientific investigations based on the data, a team of experts has been assembled.  Table I lists the principal team members and their responsibilities.   The magnetometer has been designed to provide highly accurate and stable measurements of field vectors over an exceptionally broad dynamic range from the low values characteristic of the distant solar wind and the distant magnetotail (~0.1 to 1 nT) to values larger than the largest anticipated (~6x103 nT) near closest approach to Jupiter. So that small perturbations can be measured with great accuracy, the stray field of all spacecraft systems were constrained to produce less than 0.1 nT magnetic perturbations at the outboard sensor.  Knowledge of sensor orientation will be better than 0.l degrees.   The design of the magnetometer on the Galileo Orbiter incorporates several innovations that will enhance the scientific value of the measured data.  In particular, the Galileo magnetometer can provide calibrated data in 'despun coordinates' using on-board data-processing.  Such data can be used by investigators immediately upon receipt without further delay for data analysis.  The magnetometer also provides for storage of time-averaged data.  Thus, even during intervals when the spacecraft is not transmitting data to Earth, a complete record of magnetic field data will exist.  In addition, the instrument was designed and built to meet standards of signal fidelity and reliability as strict as any ever previously imposed on a spacecraft magnetometer.   The design of the Galileo magnetometer, therefore, presented many challenges.  The requirement of high sensitivity is difficult to achieve on a complex spacecraft.  Reliability, essential because of the prolonged duration of the mission with a six year cruise preceding the beginning of the two- year mission, posed additional problems.  Special requirements on the data coverage and format required development of a new approach to data-handling capabilities as noted above.   Critical Aspects of the Instrument Design   The design challenges described in the introduction were met in a variety of ways.  We chose to fly a boom-mounted dual triaxial fluxgate magnetometer with ring core sensors in a flipper assembly.  The electronics unit housed within the spacecraft contains the drive and sense electronics of the sensors, analogue-to-digital converters, a microprocessor, and power conditioning and control circuitry.   The sensors in each triad are oriented so that one is closely aligned along the spin axis of the spacecraft and two sensors lie with orthogonal orientations in the spacecraft spin plane.  The individual sensors contain drive and sense coils surrounding a magnetically permeable core. Currents in the drive coils drive the permeable core into saturation twice during each drive cycle, symmetrically positive and negative.  An external field breaks the symmetry of the periodic core saturation, and sense coils detect the resultant harmonics of the drive frequency.  The amplitudes of the even harmonics are proportional to the component of the ambient magnetic field along the axis of the sense coils.  The instrument senses the second harmonic signal, i.e. the harmonic of largest amplitude.  A feedback current that nulls the external field is applied to a coil around the sensor so that the core operates in a zero field condition.  Thus, the amplitude of the feedback current is proportional to the component of the external field along the sensor axis.  The data system senses the analogue voltage proportional to the feedback current and converts it to a digital signal which is transmitted to earth.   We chose a fluxgate magnetometer because of its low power and its robustness, as well as because our laboratory has had experience on many missions with successful fluxgate operation.  The ring core sensor was chosen because of its proven stability and low noise.  The flipper assembly was included so that the sensor along the spin axis can periodically be rotated into the spin plane where its zero level can be checked.  This feature also offers some redundancy.  If the sensor along the spin axis were to cease operation, one of the two sensors could be rotated 9Oo to replace it.  Then the three vector components could still be measured, albeit only once per spin period.   The need for extreme sensitivity was recognized not only in the instrument design but also in the design of the spacecraft which has a long boom to isolate the primary set of sensors from the magnetic fields generated by the complex spacecraft and its subsystems.  A second set of sensors located 1/3 of the way down the boom was incorporated to assist in the identification of spacecraft fields. Spacecraft fields will decrease in magnitude with distance from the spacecraft and will often be related to specific spacecraft activities.  Such magnetic fields can be characterized to first order by using data from both the inboard and outboard sensors if it is assumed that the field sources are localized dipoles; the data can then be corrected by removing the contributions of locally-generated fields.   The sensitivity of the magnetometer is needed not merely to measure small magnetic fields but also to measure small variations of the field in a large background magnetic field.  This requirement cannot be met with an instrument that has low fractional resolution in any one range but many operating ranges; instead the instrument must have both a large dynamic range and high resolution.  This need was met by using a high precision A/D converter with l2-bit digitization and l5-bit accuracy.  Averaging data with this accuracy prior to telemetry increases the effective resolution of the measurements.  Our careful plans for achieving high sensitivity could be frustrated by the presence of significant sources of oscillating spacecraft fields in the bandwidth of the magnetometer.  A careful program of magnetic testing, shielding, compensation and proper cable design for the entire spacecraft was undertaken to insure spacecraft magnetic cleanliness and thus to preserve magnetometer sensitivity.   The requirement for extreme reliability was met in several ways.  Of course, the highest reliability parts were used and to the extent possible, the circuitry is insensitive to single part failures.  The use of separate inner and outer sensor assemblies adds some redundancy and so does the flipper, as mentioned above.  In addition to guarding against failure, one also has to be aware of changes in instrument operation.  As the spacecraft spins, the gains and relative phases of the sensors in the spin plane can be intercompared.  The flipper can be used to bring the spin axis-aligned sensor into the spin plane so its gain and phase can also be determined.  An internal calibrate signal referenced to the instrument's A/D converter is also included.  This signal reveals any changes in the operation of the analog portion of the magnetometer.  The pointing of the sensors may change during the mission because the sensors are mounted on the end of a very long boom whose orientation may be temperature sensitive and may be affected by spacecraft maneuvers.  Corrections for such changes can be made by using the clearly measurable magnetic signal produced by a fixed coil (called the MAG Cal Coil) mounted on the side of the spacecraft at the end of the boom, as we discuss in a section on instrument calibration.   The requirements of reliability and sensitivity motivated the design of the analog portion of the instrument as described above.  The design of the digital portion of the magnetometer was equally challenging.  In many respects the design problems are similar to those found in building a high fidelity sound system.  Signal fidelity must be preserved.  To preserve the signal, two aliasing problems must be addressed before the signals are transmitted. First, signals outside the telemetry bandwidth, as given by the Nyquist frequency (half the sample rate), must not enter the analog to digital converter.  This is accomplished by analog filtering before digitization.  Secondly, on a spinning spacecraft, signals in the ambient medium polarized clockwise and counterclockwise about the spin axis are detected at different frequencies. Depending on signal conditioning in the telemetry process, the amplitude and phase relationship of these two circular components of a single ambient signal can be altered.  We minimize this problem by on-board despinning.   The service function of the magnetometer requires that pertinent data be readily available to other experimenters. Our solution is to calculate physically meaningful data on- board the spacecraft and put those data into the telemetry stream.  As mentioned above, to preserve signal fidelity we decided to despin our data on-board, so the high time- resolution despun data required by other spacecraft instruments are readily available.  We note that in order to obtain accurate despun data, the instrument operation must be monitored carefully and calibration constants in the instrument memory updated as necessary.  We also average the despun vector data over approximately 30 second intervals and transmit this information in the subcommutated data. When these data arrive at Earth, they can be immediately displayed and used by all experimenters without further computer processing.  This feature supports rapid analysis of the data both for mission planning purposes and for public information purposes.   Finally, the scientific requirement for continuous data in the face of possible intermittent spacecraft tracking led us to store 200 vectors of averaged data for later transmission.  The available storage registers also permit us to use the full bandwidth of the magnetometer to store limited intervals (7 seconds per hour) of 30 samples per second data that we call snapshots for later transmission. The snapshot memory can store 210 vectors.   In short, the design requirements for the Galileo mission were met with the development of a very sophisticated magnetometer with redundancy, cross-checks, internal computational power and data storage.  The magnetometer has its own digital and analog electronics and power supplies, located in electronics bay number three of the Orbiter.  It is the two flipper assemblies and their ring core sensors that are mounted on a boom or 'astromast' which is deployed from a canister mounted on the science boom.  Below we describe in more detail these various subassemblies, the instrument modes, calibration methods, and the on-board data processing.   Sensors   The basic sensors are ring core fluxgate sensors similar to those described by Gordon and Brown (1972).  Each sensor assembly contains three orthogonally mounted fluxgate sensors and a flipping mechanism.  The flipper mechanism rotates two of the sensors so that the non-spinning sensor parallel to the spacecraft spin axis may be exchanged with one of those mounted in the spin plane of the spacecraft. As mentioned above, such an exchange of sensor positions provides data for determination of the offset of the sensor parallel to the spacecraft spin axis.   The flipping mechanism is similar in design to that developed at NASA Ames Research center and used on Explorer 35, Pioneer 9, ISEE 1 and 2, and UK-AMPTE.  The mechanism uses electrically heated bi-metallic springs and a series of levers to rotate the sensor shaft by 9Oo and back again.   The outboard sensor, mounted at the end of a deployable boom, is located 11.03 meters from the spacecraft spin axis. The inboard sensor is mounted on the same boom at a distance of 6.87 meters from the spacecraft spin axis.   The outboard sensors have dynamic ranges of +32 nT and +512 nT.  The inboard sensors have dynamic ranges of +512 nT and +16,384 nT.  The magnetometer to be operated, i.e. inboard or outboard and the desired dynamic range are selected by commands from the earth.   Electronics   The electronic system is constructed of semiconductor circuits that will withstand the radiation environment of the Jovian magnetosphere.  The analog circuits are constructed on double-sided printed circuit boards with plated-through holes.  The data system is constructed on planar stitchwire circuit cards.  The electronic circuit cards are mounted on a standard subchassis shelf which is mounted in the Galileo electronic bay.  The physical characteristics of the system are given in Table II.   The electronics unit contains an analog circuit board for each of the six fluxgate sensors.  These circuits provide sensor excitation currents, amplification, filtering, and second harmonic detection.  The magnetometer circuits are somewhat similar to those used for the Pioneer Venus Magnetometer, reported by Snare and Means (1977).  Changes were made to adapt the circuits to radiation-tolerant semiconductors and to reduce power consumption.  The output of each circuit is an analog voltage that is linear with the measured magnetic field at the sensor.  The data system contained in the electronics unit is microprocessor controlled.   The central processor (CPU), read only memory (ROM) and the random access memories (RAM), form a standard configuration microprocessor system using the 1802 family of integrated circuits.  The hardware multiplier is a separate logic circuit that performs 8 bit multiplications at a high rate thus enhancing the capability of the microprocessor to process data rapidly.  The flipper control, analog power control, and internal calibrate circuits are switches that are set by the microprocessor in response to ground commands.  The power regulator and memory 'keep alive' circuit are power conditioning circuits that receive power from the spacecraft's alternating current power bus.  The multiplexer, analog to digital converter (MUX-ADC) collects analog data under microprocessor control from the magnetometer circuits and from internal monitors of voltage and temperatures.   Magnetometer Commands and Modes of Instrument Operation   Commands can be sent to the spacecraft to control instrument operation.  Table III lists the commands and the frequency with which routine commands will be sent.  Interactive commands are those that affect other subsystems on the spacecraft whereas non-interactive commands are internal to the MAG subsystem.  Critical commands are those which select either the inboard or outboard sensor to make the measurements and determine whether the high gain (low range) or low gain (high range) measurements are desired.  These selections are made by specific command, not selected automatically, in order to avoid a situation where changes in instrument mode are made in the middle of an important measurement.  The selection of optimal averaging or snapshot mode determines which sort of data will be stored in the instrument buffer (see the discussion of these modes in the section on data processing).  The memory load provides an updated table for the coordinate transformation that converts measurements into absolute field vectors in a specified orthogonal coordinate system.  The remaining commands are related to special procedures that give the parameters needed to convert measurements into absolute field values in a known coordinate system.  They are discussed in the next section.   The instrument processes data in two ways.  In normal operation, the data processor demodulates the data to remove the effect of spacecraft spin and resolves it into an orthogonal system before transmitting the averages to the spacecraft data system.  This process is described in greater detail below.  Alternatively, direct measurements from each sensor can be sampled and averaged in even increments of time for transmission to the spacecraft data system.  The latter method would require `despinning' of the data on the ground and would be used only as a backup procedure or for instrument calibration as discussed below.   Determination of Instrument Offsets, Sensor Orientation and Gain   The internal calibrate signals drive prescribed currents through internal coils around the sensors and are used to determine instrument gain.  In addition, the measurements must be corrected for slight misalignment of the sensors from the nominal orthogonal orientations.  For this purpose, the data are used without despinning.  A small amplitude modulation at the spacecraft spin period of the field in the sensor nominally aligned with the spin axis indicates misalignment.   The measurements can readily be corrected to remove the oscillatory signal and obtain the true spin-axis component of the ambient field.  Sensors precisely in the spin plane will record fields modulated at the spacecraft spin frequency.  If offsets have been corrected and stray spacecraft fields are negligible, such signals average to zero over integral numbers of spins.  Any non-vanishing average field in the sensors nominally in the spin plane can be attributed to the rotation of spin plane sensors out of the spin plane.  By confirming that this spin average is proportional to the component of B along the spin-axis, it is possible to confirm that corrections for offsets and stray fields from the spinning part of the spacecraft have been made properly.  The data can then be corrected to yield the spin plane components of the ambient field.  If the sensors in the spin plane are perpendicular to one another, the signals are in quadrature.  Misalignment within the spin plane results in phase shifts.  They can be readily identified and the data further corrected.  The procedure outlined here provides components of the field along three orthogonal directions, but the absolute orientation of the axes in the spin plane remains uncertain.  The remaining uncertainty is removed by measurement of a reference signal that identifies a direction within the spin plane.  The signal is produced by a coil rigidly mounted on the spacecraft.   The MAG calcoil (MCC) is mounted at the center of the lower (+z) edge of the boom with its axis aligned with the center line of the boom axis.  It is a 20inx18in roughly rectangular coil of 117 turns.  During MAG Cal Coil calibrations, the coil is driven at one of several selected frequencies with a peak-to-peak amplitude of 4.5 nT; (at 0.5 and 0.75 Hz the signal is a square wave, and at 1.5 Hz it is switched on for 2/3 of each cycle).  Because the frequency is known, the signal can be identified even if the field is not entirely quiet.  The flexible choice of frequency allows for the possibility of noise sources on the spacecraft that may make it undesirable to operate in certain frequency bands.  All else being equal, higher frequencies are desirable because natural background noise falls off with increasing frequencies.  The MCC signal defines a reference direction in space, thus providing the required information to allow the sensor orientations to be well constrained.   The above procedure must be carried out for each sensor triad and for both flip positions of the sensor triad.   Fields produced by systems mounted on the despun part of the spacecraft cannot readily be differentiated from ambient fields.  A special procedure has been designed to permit measurements of the magnetic signal of the despun portion of the spacecraft.  Starting in dual spin mode, the relative spin rate of the despun portion of the spacecraft is gradually reduced until the spacecraft is in all-spin mode and the procedure is reversed until the spacecraft is once again in the dual spin mode.  The procedure takes approximately four hours.  The procedure is initiated by the constant slew command and will be carried out once per orbit at Jupiter.   Finally, offsets in the instrument itself can be identified by measurements made in the known field of the Earth's magnetosphere.  This will be possible during the initial post-launch period and during the two subsequent flybys of Earth.  Standard methods of identifying offsets through statistical analysis of tangential discontinuities in the solar wind will also be used.   On-board Data Processing   The system uses a 12 bit analog-to-digital converter that has been trimmed such that each bit is accurate to at least 1/4 of the value of the least significant bit.  The data, sampled at 30 samples/s, are averaged to provide l6-bit words; tests have demonstrated that these words are accurate to the l5th bit.  This filtering is performed by the microprocessor system using a recursive filter.  The recursive filter algorithm is of the form,                 Oi = Oi-1 - K Oi-1 + K Ii                    (1)     where Oi, is the value calculated at measurement i and Ii. is the value read in at measurement i.  The value of K is set at 1/4 for the filter.  This filter gives a transfer function of the form,                                  pOc             T(f) =      ---------------------            (2)                       (1 + pOc) - exp(-ipf/fn)     The relationship of K in equation 1 to Oc of equation 2 is given by the  expression,                               pOc                     K =    ---------                     (3)                          1 + pOc   where Oc = fc/fn, and fn = Nyquist frequency = DT/2, fc = the filter corner frequency and DT is the data sampling interval, (1/30)s.  Next the data are corrected by subtracting the sensor offsets from the data and multiplying the data by a coordinate transformation matrix.  This matrix contains sensor gain and pointing information.  The correction routine yields accurate data at 3 vectors each 2/3 second in true spacecraft coordinates. The information for the corrections, i.e. offsets and matrix values, is computed on the ground and sent via the command system as a direct memory load to the microprocessor memory.   To obtain magnetic field data in inertial (I) coordinates, the data are despun by multiplying the spinning spacecraft (sc) Bx and By by sine and cosine functions generated from spacecraft roll information.             BxI = Bxsc cos q - Bysc sin q                 (4)             ByI = Bxsc sin q + Bysc cos q                 (5)             BzI = Bzsc                                    (6)   The angle q, the spacecraft roll angle, is measured from the projection onto the spacecraft spin plane of a southward pointing vector normal to the ecliptic plane.  Therefore, in inertial coordinates positive BxI points south, normal to the ecliptic plane, positive ByI lies in the ecliptic plane in the sense of Jupiter's orbital motion and positive BzI is in the anti-earth direction.  The spacecraft coordinates are defined with the spin axis +z pointing in the anti-earth direction, the magnetometer boom is the +y axis and the +x axis completes the right hand triad as shown in Fig. 2.   The main data output, i.e. 3 vectors, each 2/3 second, may be commanded to be either in spacecraft coordinates or to be despun data in inertial coordinates.   The despun data are again filtered, and 2 vectors each minute are provided in the subcommutated data.  These subcommutated despun data are provided continuously, even when the main instrument output data are provided in spacecraft coordinates.   For periods of up to a week during the cruise mode on the journey to Jupiter, the data system may not be collecting data from the science instruments.  During this time, the magnetometer will be left on.  The despun data will be averaged over times longer than the basic 30 second intervals and stored in memory.  The averaging constant, K in equation 1, can be set by a command such that the memory will contain time and attitude information in addition to 200 evenly spaced data points for the period between telemetry readouts.  This mode of operation is referred to as the optimal averaging mode.   The instrument memory can alternatively be used for recording high speed data at 30 samples per second.  This mode, called the snapshot, will be used for trying to capture transient events such as shocks or to increase the Nyquist frequency of the magnetometer measurements in order to provide a continuous spectrum of plasma waves from DC to frequencies that overlap the lowest PWS frequency band.  The snapshot data come from the output of the digital averager at 30 samples per second.  By inverting the operation of equation 1, the original unfiltered input data can be retrieved.  For the snapshot mode, the time interval separating digitized values of x, y and z data is greater than or equal to 200 microseconds and the time lapse between successive samples of any axis is 33.3 milliseconds.  The buffer memory which contains 210 48-bit vectors and a time record is continuously read out at 16 words per minute. This memory readout appears in the subcommutated data.   Data Format   The data format contains three vector sets of x, y, z samples and a subcommutator word.  Each word is 16 bits in length and the readout provides 160 bits each 2/3 of a second for a total readout of 240 bps.  The time interval between the first and second, and second and third vectors is 233 milliseconds.  The time interval between the third vector and the first vector of the next minor frame is 200 milliseconds.  Because of odd timing intervals, this slight asymmetry of sampling could not be avoided.  However, a method of correcting for the non-uniform sampling of the data has been devised to remove the undesirable features of non-uniform sampling when necessary for refined analysis. The approach is to</description>
  </Instrument>
</Product_Context>
